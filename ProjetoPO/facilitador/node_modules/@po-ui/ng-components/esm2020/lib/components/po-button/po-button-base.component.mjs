import { __decorate } from "tslib";
import { EventEmitter, Input, Output, Directive, HostBinding } from '@angular/core';
import { convertToBoolean } from '../../utils/util';
import { InputBoolean } from '../../decorators';
import { PoButtonKind } from './po-button-type.enum';
import { PoButtonSize } from './po-button-size.enum';
import * as i0 from "@angular/core";
/**
 * @description
 *
 * O `po-button` permite que o usuário execute ações predefinidas pelo desenvolvedor.
 *
 * Através dos tipos, é possível identificar a importância de cada ação.
 *
 * #### Boas práticas
 *
 * - Evite `labels` extensos que quebram o layout do `po-button`, use `labels` diretos, curtos e intuitivos.
 * - Utilize apenas um `po-button` configurado como `primary` por página.
 * - Para ações irreversíveis use sempre a propriedade `p-danger`.
 *
 * #### Acessibilidade tratada no componente
 *
 * Algumas diretrizes de acessibilidade já são tratadas no componente, internamente, e não podem ser alteradas pelo proprietário do conteúdo. São elas:
 *
 * - Quando em foco, o botão é ativado usando as teclas de Espaço e Enter do teclado. [W3C WAI-ARIA 3.5 Button - Keyboard Interaction](https://www.w3.org/WAI/ARIA/apg/#keyboard-interaction-3)
 * - A área do foco precisar ter uma espessura de pelo menos 2 pixels CSS e o foco não pode ficar escondido por outros elementos da tela. [WCAG 2.4.12: Focus Appearance](https://www.w3.org/WAI/WCAG22/Understanding/focus-appearance-enhanced)
 */
export class PoButtonBaseComponent {
    constructor() {
        /** Ação que será executada quando o usuário clicar sobre o `po-button`. */
        this.click = new EventEmitter();
        this._danger = false;
        this._disabled = false;
        this._loading = false;
        this._kind = PoButtonKind.secondary;
        this._size = PoButtonSize.medium;
        this._small = false;
        this.hasSize = false;
    }
    /**
     * @optional
     *
     * @description
     *
     * Exibe um ícone de carregamento à esquerda do _label_ do botão.
     *
     * > Quando esta propriedade estiver habilitada, desabilitará o botão.
     *
     * @default `false`
     */
    set loading(value) {
        this._loading = convertToBoolean(value);
    }
    get loading() {
        return this._loading;
    }
    /**
     * @deprecated 16.x.x
     *
     * @optional
     *
     * @description
     *
     * **Deprecated 16.x.x**.
     *
     * > Por regras de acessibilidade o botão não terá mais um tamanho menor do que 44px e por isso a propriedade será depreciada.
     * > [Saiba mais](https://animaliads.notion.site/Bot-o-fb3a921e8ba54bd38b39758c24613368)
     *
     * Deixa o botão menor, com 32px de altura.
     *
     * @default `false`
     */
    set small(value) {
        this._small = !this.hasSize ? value : false;
        if (this._small) {
            this._size = 'small';
        }
    }
    get small() {
        return this._small;
    }
    /**
     * @deprecated 15.x.x
     *
     * @optional
     *
     * @description
     *
     * **Deprecated 15.x.x**. Utilizar `p-kind` no lugar.
     *
     * Define o estilo do `po-button`.
     *
     * Valore válidos:
     *  - `default`: **Deprecated 15.x.x**. Utilizar `p-kind="secondary"`.
     *  - `primary`: deixa o `po-button` com destaque, deve ser usado para ações primárias.
     *  - `danger`: **Deprecated 15.x.x**. Utilizar `p-danger`.
     *  - `link`: **Deprecated 15.x.x**. Utilizar `p-kind="tertiary"`.
     *
     * @default `secondary`
     */
    set type(value) {
        this.kind = value;
    }
    get type() {
        return this.kind;
    }
    /**
     * @optional
     *
     * @description
     *
     * Deve ser usado em ações irreversíveis que o usuário precisa ter cuidado ao executá-la, como a exclusão de um registro.
     *
     * > A propriedade `p-kind="tertiary"` será inativada ao utilizar esta propriedade.
     */
    set danger(value) {
        this._danger = this.kind !== PoButtonKind.tertiary ? value : false;
    }
    get danger() {
        return this._danger;
    }
    /**
     * @optional
     *
     * @description
     *
     * Define o tamanho do `po-button`.
     *
     * Valores válidos:
     * - `medium`: o `po-button` fica do tamanho padrão, com 44px de altura.;
     * - `large`: o `po-button` fica maior, com 56px de altura.;
     *
     * @default `medium`
     *
     */
    set size(value) {
        const size = this.small ? 'small' : value;
        if (size === 'small') {
            this._size = 'small';
            this._small = true;
        }
        else {
            this._size = PoButtonSize[size] ? PoButtonSize[size] : PoButtonSize.medium;
            this.hasSize = true;
        }
    }
    get size() {
        return this._size;
    }
    /**
     * @optional
     *
     * @description
     *
     * Define o estilo do `po-button`.
     *
     * Valores válidos:
     *  - `primary`: deixa o `po-button` com destaque, deve ser usado para ações primárias.
     *  - `secondary`: estilo padrão do `po-button`.
     *  - `tertiary`: o `po-button` é exibido sem cor do fundo, recebendo menos destaque entre as ações.
     *
     * @default `secondary`
     */
    set kind(value) {
        this._kind = PoButtonKind[value] ? PoButtonKind[value] : PoButtonKind.secondary;
    }
    get kind() {
        return this._kind;
    }
    /**
     * @optional
     *
     * @description
     *
     * Desabilita o `po-button` e não permite que o usuário interaja com o mesmo.
     *
     * @default `false`
     */
    set disabled(value) {
        this._disabled = value === '' ? true : convertToBoolean(value);
    }
    get disabled() {
        return this._disabled;
    }
}
PoButtonBaseComponent.ɵfac = function PoButtonBaseComponent_Factory(t) { return new (t || PoButtonBaseComponent)(); };
PoButtonBaseComponent.ɵdir = /*@__PURE__*/ i0.ɵɵdefineDirective({ type: PoButtonBaseComponent, hostVars: 3, hostBindings: function PoButtonBaseComponent_HostBindings(rf, ctx) { if (rf & 2) {
        i0.ɵɵattribute("p-danger", ctx.danger)("p-size", ctx.size)("p-kind", ctx.kind);
    } }, inputs: { label: ["p-label", "label"], icon: ["p-icon", "icon"], loading: ["p-loading", "loading"], small: ["p-small", "small"], type: ["p-type", "type"], danger: ["p-danger", "danger"], size: ["p-size", "size"], kind: ["p-kind", "kind"], disabled: ["p-disabled", "disabled"] }, outputs: { click: "p-click" } });
__decorate([
    InputBoolean()
], PoButtonBaseComponent.prototype, "small", null);
__decorate([
    InputBoolean()
], PoButtonBaseComponent.prototype, "danger", null);
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(PoButtonBaseComponent, [{
        type: Directive
    }], null, { label: [{
            type: Input,
            args: ['p-label']
        }], icon: [{
            type: Input,
            args: ['p-icon']
        }], click: [{
            type: Output,
            args: ['p-click']
        }], loading: [{
            type: Input,
            args: ['p-loading']
        }], small: [{
            type: Input,
            args: ['p-small']
        }], type: [{
            type: Input,
            args: ['p-type']
        }], danger: [{
            type: HostBinding,
            args: ['attr.p-danger']
        }, {
            type: Input,
            args: ['p-danger']
        }], size: [{
            type: HostBinding,
            args: ['attr.p-size']
        }, {
            type: Input,
            args: ['p-size']
        }], kind: [{
            type: HostBinding,
            args: ['attr.p-kind']
        }, {
            type: Input,
            args: ['p-kind']
        }], disabled: [{
            type: Input,
            args: ['p-disabled']
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tYnV0dG9uLWJhc2UuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdWkvc3JjL2xpYi9jb21wb25lbnRzL3BvLWJ1dHRvbi9wby1idXR0b24tYmFzZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQWUsV0FBVyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRWpHLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUVoRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDckQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLHVCQUF1QixDQUFDOztBQUNyRDs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQW1CRztBQUVILE1BQU0sT0FBTyxxQkFBcUI7SUFEbEM7UUFxQ0UsMkVBQTJFO1FBQ3hELFVBQUssR0FBRyxJQUFJLFlBQVksRUFBUSxDQUFDO1FBRTVDLFlBQU8sR0FBYSxLQUFLLENBQUM7UUFDMUIsY0FBUyxHQUFhLEtBQUssQ0FBQztRQUM1QixhQUFRLEdBQWEsS0FBSyxDQUFDO1FBQzNCLFVBQUssR0FBWSxZQUFZLENBQUMsU0FBUyxDQUFDO1FBQ3hDLFVBQUssR0FBWSxZQUFZLENBQUMsTUFBTSxDQUFDO1FBQ3JDLFdBQU0sR0FBYSxLQUFLLENBQUM7UUFFdkIsWUFBTyxHQUFhLEtBQUssQ0FBQztLQTJLckM7SUF6S0M7Ozs7Ozs7Ozs7T0FVRztJQUNILElBQXdCLE9BQU8sQ0FBQyxLQUFjO1FBQzVDLElBQUksQ0FBQyxRQUFRLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUVELElBQUksT0FBTztRQUNULE9BQU8sSUFB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c0JPLE9BQU87a0JBQTlCLEtBQUs7bUJBQUMsV0FBVztZQTBCZCxLQUFLO2tCQUZSLEtBQUs7bUJBQUMsU0FBUztZQWlDSyxJQUFJO2tCQUF4QixLQUFLO21CQUFDLFFBQVE7WUFxQlgsTUFBTTtrQkFIVCxXQUFXO21CQUFDLGVBQWU7O2tCQUMzQixLQUFLO21CQUFDLFVBQVU7WUEwQmIsSUFBSTtrQkFGUCxXQUFXO21CQUFDLGFBQWE7O2tCQUN6QixLQUFLO21CQUFDLFFBQVE7WUFrQ1gsSUFBSTtrQkFGUCxXQUFXO21CQUFDLGFBQWE7O2tCQUN6QixLQUFLO21CQUFDLFFBQVE7WUFrQlUsUUFBUTtrQkFBaEMsS0FBSzttQkFBQyxZQUFZIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0LCBEaXJlY3RpdmUsIFRlbXBsYXRlUmVmLCBIb3N0QmluZGluZyB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBjb252ZXJ0VG9Cb29sZWFuIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbCc7XG5pbXBvcnQgeyBJbnB1dEJvb2xlYW4gfSBmcm9tICcuLi8uLi9kZWNvcmF0b3JzJztcblxuaW1wb3J0IHsgUG9CdXR0b25LaW5kIH0gZnJvbSAnLi9wby1idXR0b24tdHlwZS5lbnVtJztcbmltcG9ydCB7IFBvQnV0dG9uU2l6ZSB9IGZyb20gJy4vcG8tYnV0dG9uLXNpemUuZW51bSc7XG4vKipcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIE8gYHBvLWJ1dHRvbmAgcGVybWl0ZSBxdWUgbyB1c3XDoXJpbyBleGVjdXRlIGHDp8O1ZXMgcHJlZGVmaW5pZGFzIHBlbG8gZGVzZW52b2x2ZWRvci5cbiAqXG4gKiBBdHJhdsOpcyBkb3MgdGlwb3MsIMOpIHBvc3PDrXZlbCBpZGVudGlmaWNhciBhIGltcG9ydMOibmNpYSBkZSBjYWRhIGHDp8Ojby5cbiAqXG4gKiAjIyMjIEJvYXMgcHLDoXRpY2FzXG4gKlxuICogLSBFdml0ZSBgbGFiZWxzYCBleHRlbnNvcyBxdWUgcXVlYnJhbSBvIGxheW91dCBkbyBgcG8tYnV0dG9uYCwgdXNlIGBsYWJlbHNgIGRpcmV0b3MsIGN1cnRvcyBlIGludHVpdGl2b3MuXG4gKiAtIFV0aWxpemUgYXBlbmFzIHVtIGBwby1idXR0b25gIGNvbmZpZ3VyYWRvIGNvbW8gYHByaW1hcnlgIHBvciBww6FnaW5hLlxuICogLSBQYXJhIGHDp8O1ZXMgaXJyZXZlcnPDrXZlaXMgdXNlIHNlbXByZSBhIHByb3ByaWVkYWRlIGBwLWRhbmdlcmAuXG4gKlxuICogIyMjIyBBY2Vzc2liaWxpZGFkZSB0cmF0YWRhIG5vIGNvbXBvbmVudGVcbiAqXG4gKiBBbGd1bWFzIGRpcmV0cml6ZXMgZGUgYWNlc3NpYmlsaWRhZGUgasOhIHPDo28gdHJhdGFkYXMgbm8gY29tcG9uZW50ZSwgaW50ZXJuYW1lbnRlLCBlIG7Do28gcG9kZW0gc2VyIGFsdGVyYWRhcyBwZWxvIHByb3ByaWV0w6FyaW8gZG8gY29udGXDumRvLiBTw6NvIGVsYXM6XG4gKlxuICogLSBRdWFuZG8gZW0gZm9jbywgbyBib3TDo28gw6kgYXRpdmFkbyB1c2FuZG8gYXMgdGVjbGFzIGRlIEVzcGHDp28gZSBFbnRlciBkbyB0ZWNsYWRvLiBbVzNDIFdBSS1BUklBIDMuNSBCdXR0b24gLSBLZXlib2FyZCBJbnRlcmFjdGlvbl0oaHR0cHM6Ly93d3cudzMub3JnL1dBSS9BUklBL2FwZy8ja2V5Ym9hcmQtaW50ZXJhY3Rpb24tMylcbiAqIC0gQSDDoXJlYSBkbyBmb2NvIHByZWNpc2FyIHRlciB1bWEgZXNwZXNzdXJhIGRlIHBlbG8gbWVub3MgMiBwaXhlbHMgQ1NTIGUgbyBmb2NvIG7Do28gcG9kZSBmaWNhciBlc2NvbmRpZG8gcG9yIG91dHJvcyBlbGVtZW50b3MgZGEgdGVsYS4gW1dDQUcgMi40LjEyOiBGb2N1cyBBcHBlYXJhbmNlXShodHRwczovL3d3dy53My5vcmcvV0FJL1dDQUcyMi9VbmRlcnN0YW5kaW5nL2ZvY3VzLWFwcGVhcmFuY2UtZW5oYW5jZWQpXG4gKi9cbkBEaXJlY3RpdmUoKVxuZXhwb3J0IGNsYXNzIFBvQnV0dG9uQmFzZUNvbXBvbmVudCB7XG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIExhYmVsIGRvIGJvdMOjby5cbiAgICovXG4gIEBJbnB1dCgncC1sYWJlbCcpIGxhYmVsPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIMONY29uZSBleGliaWRvIGFvIGxhZG8gZXNxdWVyZG8gZG8gbGFiZWwgZG8gYm90w6NvLlxuICAgKlxuICAgKiDDiSBwb3Nzw612ZWwgdXNhciBxdWFscXVlciB1bSBkb3Mgw61jb25lcyBkYSBbQmlibGlvdGVjYSBkZSDDrWNvbmVzXSgvZ3VpZGVzL2ljb25zKS4gY29uZm9ybWUgZXhlbXBsbyBhYmFpeG86XG4gICAqIGBgYFxuICAgKiA8cG8tYnV0dG9uIHAtaWNvbj1cInBvLWljb24tdXNlclwiIHAtbGFiZWw9XCJQTyBidXR0b25cIj48L3BvLWJ1dHRvbj5cbiAgICogYGBgXG4gICAqIFRhbWLDqW0gw6kgcG9zc8OtdmVsIHV0aWxpemFyIG91dHJhcyBmb250ZXMgZGUgw61jb25lcywgcG9yIGV4ZW1wbG8gYSBiaWJsaW90ZWNhICpGb250IEF3ZXNvbWUqLCBkYSBzZWd1aW50ZSBmb3JtYTpcbiAgICogYGBgXG4gICAqIDxwby1idXR0b24gcC1pY29uPVwiZmEgZmEtcG9kY2FzdFwiIHAtbGFiZWw9XCJQTyBidXR0b25cIj48L3BvLWJ1dHRvbj5cbiAgICogYGBgXG4gICAqIE91dHJhIG9ww6fDo28gc2VyaWEgYSBjdXN0b21pemHDp8OjbyBkbyDDrWNvbmUgYXRyYXbDqXMgZG8gYFRlbXBsYXRlUmVmYCwgY29uZm9ybWUgZXhlbXBsbyBhYmFpeG86XG4gICAqIGBgYFxuICAgKiA8cG8tYnV0dG9uIFtwLWljb25dPVwidGVtcGxhdGVcIiBwLWxhYmVsPVwiYnV0dG9uIHRlbXBsYXRlIGlvbmljXCI+PC9wby1idXR0b24+XG4gICAqXG4gICAqIDxuZy10ZW1wbGF0ZSAjdGVtcGxhdGU+XG4gICAqICA8aW9uLWljb24gc3R5bGU9XCJmb250LXNpemU6IGluaGVyaXRcIiBuYW1lPVwiaGVhcnRcIj48L2lvbi1pY29uPlxuICAgKiA8L25nLXRlbXBsYXRlPlxuICAgKiBgYGBcbiAgICogPiBQYXJhIG8gw61jb25lIGVucXVhZHJhciBjb3JyZXRhbWVudGUsIGRldmUtc2UgdXRpbGl6YXIgYGZvbnQtc2l6ZTogaW5oZXJpdGAgY2FzbyBvIMOtY29uZSB1dGlsaXphZG8gbsOjbyBhcGxpcXVlLW8uXG4gICAqL1xuICBASW5wdXQoJ3AtaWNvbicpIGljb24/OiBzdHJpbmcgfCBUZW1wbGF0ZVJlZjx2b2lkPjtcblxuICAvKiogQcOnw6NvIHF1ZSBzZXLDoSBleGVjdXRhZGEgcXVhbmRvIG8gdXN1w6FyaW8gY2xpY2FyIHNvYnJlIG8gYHBvLWJ1dHRvbmAuICovXG4gIEBPdXRwdXQoJ3AtY2xpY2snKSBjbGljayA9IG5ldyBFdmVudEVtaXR0ZXI8bnVsbD4oKTtcblxuICBwcml2YXRlIF9kYW5nZXI/OiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgX2Rpc2FibGVkPzogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIF9sb2FkaW5nPzogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIF9raW5kPzogc3RyaW5nID0gUG9CdXR0b25LaW5kLnNlY29uZGFyeTtcbiAgcHJpdmF0ZSBfc2l6ZT86IHN0cmluZyA9IFBvQnV0dG9uU2l6ZS5tZWRpdW07XG4gIHByaXZhdGUgX3NtYWxsPzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIHByb3RlY3RlZCBoYXNTaXplPzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIEV4aWJlIHVtIMOtY29uZSBkZSBjYXJyZWdhbWVudG8gw6AgZXNxdWVyZGEgZG8gX2xhYmVsXyBkbyBib3TDo28uXG4gICAqXG4gICAqID4gUXVhbmRvIGVzdGEgcHJvcHJpZWRhZGUgZXN0aXZlciBoYWJpbGl0YWRhLCBkZXNhYmlsaXRhcsOhIG8gYm90w6NvLlxuICAgKlxuICAgKiBAZGVmYXVsdCBgZmFsc2VgXG4gICAqL1xuICBASW5wdXQoJ3AtbG9hZGluZycpIHNldCBsb2FkaW5nKHZhbHVlOiBib29sZWFuKSB7XG4gICAgdGhpcy5fbG9hZGluZyA9IGNvbnZlcnRUb0Jvb2xlYW4odmFsdWUpO1xuICB9XG5cbiAgZ2V0IGxvYWRpbmcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2xvYWRpbmc7XG4gIH1cblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgMTYueC54XG4gICAqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogKipEZXByZWNhdGVkIDE2LngueCoqLlxuICAgKlxuICAgKiA+IFBvciByZWdyYXMgZGUgYWNlc3NpYmlsaWRhZGUgbyBib3TDo28gbsOjbyB0ZXLDoSBtYWlzIHVtIHRhbWFuaG8gbWVub3IgZG8gcXVlIDQ0cHggZSBwb3IgaXNzbyBhIHByb3ByaWVkYWRlIHNlcsOhIGRlcHJlY2lhZGEuXG4gICAqID4gW1NhaWJhIG1haXNdKGh0dHBzOi8vYW5pbWFsaWFkcy5ub3Rpb24uc2l0ZS9Cb3Qtby1mYjNhOTIxZThiYTU0YmQzOGIzOTc1OGMyNDYxMzM2OClcbiAgICpcbiAgICogRGVpeGEgbyBib3TDo28gbWVub3IsIGNvbSAzMnB4IGRlIGFsdHVyYS5cbiAgICpcbiAgICogQGRlZmF1bHQgYGZhbHNlYFxuICAgKi9cbiAgQElucHV0KCdwLXNtYWxsJylcbiAgQElucHV0Qm9vbGVhbigpXG4gIHNldCBzbWFsbCh2YWx1ZTogYm9vbGVhbikge1xuICAgIHRoaXMuX3NtYWxsID0gIXRoaXMuaGFzU2l6ZSA/IHZhbHVlIDogZmFsc2U7XG5cbiAgICBpZiAodGhpcy5fc21hbGwpIHtcbiAgICAgIHRoaXMuX3NpemUgPSAnc21hbGwnO1xuICAgIH1cbiAgfVxuXG4gIGdldCBzbWFsbCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fc21hbGw7XG4gIH1cblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgMTUueC54XG4gICAqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogKipEZXByZWNhdGVkIDE1LngueCoqLiBVdGlsaXphciBgcC1raW5kYCBubyBsdWdhci5cbiAgICpcbiAgICogRGVmaW5lIG8gZXN0aWxvIGRvIGBwby1idXR0b25gLlxuICAgKlxuICAgKiBWYWxvcmUgdsOhbGlkb3M6XG4gICAqICAtIGBkZWZhdWx0YDogKipEZXByZWNhdGVkIDE1LngueCoqLiBVdGlsaXphciBgcC1raW5kPVwic2Vjb25kYXJ5XCJgLlxuICAgKiAgLSBgcHJpbWFyeWA6IGRlaXhhIG8gYHBvLWJ1dHRvbmAgY29tIGRlc3RhcXVlLCBkZXZlIHNlciB1c2FkbyBwYXJhIGHDp8O1ZXMgcHJpbcOhcmlhcy5cbiAgICogIC0gYGRhbmdlcmA6ICoqRGVwcmVjYXRlZCAxNS54LngqKi4gVXRpbGl6YXIgYHAtZGFuZ2VyYC5cbiAgICogIC0gYGxpbmtgOiAqKkRlcHJlY2F0ZWQgMTUueC54KiouIFV0aWxpemFyIGBwLWtpbmQ9XCJ0ZXJ0aWFyeVwiYC5cbiAgICpcbiAgICogQGRlZmF1bHQgYHNlY29uZGFyeWBcbiAgICovXG4gIEBJbnB1dCgncC10eXBlJykgc2V0IHR5cGUodmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMua2luZCA9IHZhbHVlO1xuICB9XG5cbiAgZ2V0IHR5cGUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5raW5kO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogRGV2ZSBzZXIgdXNhZG8gZW0gYcOnw7VlcyBpcnJldmVyc8OtdmVpcyBxdWUgbyB1c3XDoXJpbyBwcmVjaXNhIHRlciBjdWlkYWRvIGFvIGV4ZWN1dMOhLWxhLCBjb21vIGEgZXhjbHVzw6NvIGRlIHVtIHJlZ2lzdHJvLlxuICAgKlxuICAgKiA+IEEgcHJvcHJpZWRhZGUgYHAta2luZD1cInRlcnRpYXJ5XCJgIHNlcsOhIGluYXRpdmFkYSBhbyB1dGlsaXphciBlc3RhIHByb3ByaWVkYWRlLlxuICAgKi9cblxuICBASG9zdEJpbmRpbmcoJ2F0dHIucC1kYW5nZXInKVxuICBASW5wdXQoJ3AtZGFuZ2VyJylcbiAgQElucHV0Qm9vbGVhbigpXG4gIHNldCBkYW5nZXIodmFsdWU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9kYW5nZXIgPSB0aGlzLmtpbmQgIT09IFBvQnV0dG9uS2luZC50ZXJ0aWFyeSA/IHZhbHVlIDogZmFsc2U7XG4gIH1cblxuICBnZXQgZGFuZ2VyKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9kYW5nZXI7XG4gIH1cblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBEZWZpbmUgbyB0YW1hbmhvIGRvIGBwby1idXR0b25gLlxuICAgKlxuICAgKiBWYWxvcmVzIHbDoWxpZG9zOlxuICAgKiAtIGBtZWRpdW1gOiBvIGBwby1idXR0b25gIGZpY2EgZG8gdGFtYW5obyBwYWRyw6NvLCBjb20gNDRweCBkZSBhbHR1cmEuO1xuICAgKiAtIGBsYXJnZWA6IG8gYHBvLWJ1dHRvbmAgZmljYSBtYWlvciwgY29tIDU2cHggZGUgYWx0dXJhLjtcbiAgICpcbiAgICogQGRlZmF1bHQgYG1lZGl1bWBcbiAgICpcbiAgICovXG4gIEBIb3N0QmluZGluZygnYXR0ci5wLXNpemUnKVxuICBASW5wdXQoJ3Atc2l6ZScpXG4gIHNldCBzaXplKHZhbHVlOiBzdHJpbmcpIHtcbiAgICBjb25zdCBzaXplID0gdGhpcy5zbWFsbCA/ICdzbWFsbCcgOiB2YWx1ZTtcblxuICAgIGlmIChzaXplID09PSAnc21hbGwnKSB7XG4gICAgICB0aGlzLl9zaXplID0gJ3NtYWxsJztcbiAgICAgIHRoaXMuX3NtYWxsID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2l6ZSA9IFBvQnV0dG9uU2l6ZVtzaXplXSA/IFBvQnV0dG9uU2l6ZVtzaXplXSA6IFBvQnV0dG9uU2l6ZS5tZWRpdW07XG4gICAgICB0aGlzLmhhc1NpemUgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGdldCBzaXplKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX3NpemU7XG4gIH1cblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBEZWZpbmUgbyBlc3RpbG8gZG8gYHBvLWJ1dHRvbmAuXG4gICAqXG4gICAqIFZhbG9yZXMgdsOhbGlkb3M6XG4gICAqICAtIGBwcmltYXJ5YDogZGVpeGEgbyBgcG8tYnV0dG9uYCBjb20gZGVzdGFxdWUsIGRldmUgc2VyIHVzYWRvIHBhcmEgYcOnw7VlcyBwcmltw6FyaWFzLlxuICAgKiAgLSBgc2Vjb25kYXJ5YDogZXN0aWxvIHBhZHLDo28gZG8gYHBvLWJ1dHRvbmAuXG4gICAqICAtIGB0ZXJ0aWFyeWA6IG8gYHBvLWJ1dHRvbmAgw6kgZXhpYmlkbyBzZW0gY29yIGRvIGZ1bmRvLCByZWNlYmVuZG8gbWVub3MgZGVzdGFxdWUgZW50cmUgYXMgYcOnw7Vlcy5cbiAgICpcbiAgICogQGRlZmF1bHQgYHNlY29uZGFyeWBcbiAgICovXG5cbiAgQEhvc3RCaW5kaW5nKCdhdHRyLnAta2luZCcpXG4gIEBJbnB1dCgncC1raW5kJylcbiAgc2V0IGtpbmQodmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuX2tpbmQgPSBQb0J1dHRvbktpbmRbdmFsdWVdID8gUG9CdXR0b25LaW5kW3ZhbHVlXSA6IFBvQnV0dG9uS2luZC5zZWNvbmRhcnk7XG4gIH1cblxuICBnZXQga2luZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9raW5kO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogRGVzYWJpbGl0YSBvIGBwby1idXR0b25gIGUgbsOjbyBwZXJtaXRlIHF1ZSBvIHVzdcOhcmlvIGludGVyYWphIGNvbSBvIG1lc21vLlxuICAgKlxuICAgKiBAZGVmYXVsdCBgZmFsc2VgXG4gICAqL1xuICBASW5wdXQoJ3AtZGlzYWJsZWQnKSBzZXQgZGlzYWJsZWQodmFsdWU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9kaXNhYmxlZCA9IDxhbnk+dmFsdWUgPT09ICcnID8gdHJ1ZSA6IGNvbnZlcnRUb0Jvb2xlYW4odmFsdWUpO1xuICB9XG4gIGdldCBkaXNhYmxlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fZGlzYWJsZWQ7XG4gIH1cbn1cbiJdfQ==