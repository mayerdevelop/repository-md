import { EventEmitter, Input, Output, Directive } from '@angular/core';
import { convertToBoolean, convertToInt } from '../../utils/util';
import { PoProgressStatus } from './enums/po-progress-status.enum';
import * as i0 from "@angular/core";
const poProgressMaxValue = 100;
const poProgressMinValue = 0;
/**
 * @description
 *
 * Componente de barra de progresso que possibilita exibir visualmente o progresso/carregamento de uma tarefa.
 *
 * Este componente pode ser utilizado no *upload* de arquivos, uma atualização no sistema ou o processamento de uma imagem.
 */
export class PoProgressBaseComponent {
    constructor() {
        /**
         * @optional
         *
         * @description
         *
         * Status da barra de progresso que indicará visualmente ao usuário
         * o andamento, por exemplo, se a mesma foi concluída com sucesso.
         *
         * @default `PoProgressStatus.Default`
         */
        this.status = PoProgressStatus.Default;
        /**
         * @optional
         *
         * @description
         *
         * Evento que será disparado ao clicar no ícone de cancelamento ("x") na parte inferior da barra de progresso.
         *
         * Ao ser disparado, a função receberá como parâmetro o status atual da barra de progresso.
         *
         * > Se nenhuma função for passada para o evento ou a barra de progresso estiver com o status `PoProgressStatus.Success`,
         * o ícone de cancelamento não será exibido.
         */
        this.cancel = new EventEmitter();
        /**
         * @optional
         *
         * @description
         *
         * Evento que será disparado ao clicar no ícone de tentar novamente na parte inferior da barra de progresso.
         *
         * > o ícone será exibido apenas se informar uma função neste evento e o status da barra de progresso for
         * `PoProgressStatus.Error`.
         */
        this.retry = new EventEmitter();
        this._value = 0;
    }
    /**
     * @optional
     *
     * @description
     *
     * Habilita o modo indeterminado na barra de progresso, que mostra uma animação fixa sem um valor estabelecido.
     *
     * Esta opção pode ser utilizada quando não souber quanto tempo levará para que um processo seja concluído.
     *
     * > Caso esta propriedade e a `p-value` seja habilitada, a propriedade `p-value` será ignorada.
     *
     * @default `false`
     */
    set indeterminate(indeterminate) {
        this._indeterminate = convertToBoolean(indeterminate);
    }
    get indeterminate() {
        return this._indeterminate;
    }
    /**
     * @optional
     *
     * @description
     *
     * Valor que representará o progresso.
     *
     * > Os valores aceitos são números inteiros de `0` à `100`.
     *
     * @default `0`
     */
    set value(value) {
        const integerValue = convertToInt(value, poProgressMinValue);
        const isProgressRangeValue = this.isProgressRangeValue(integerValue);
        this._value = isProgressRangeValue ? integerValue : poProgressMinValue;
    }
    get value() {
        return this._value;
    }
    isProgressRangeValue(value) {
        return value >= poProgressMinValue && value <= poProgressMaxValue;
    }
}
PoProgressBaseComponent.ɵfac = function PoProgressBaseComponent_Factory(t) { return new (t || PoProgressBaseComponent)(); };
PoProgressBaseComponent.ɵdir = /*@__PURE__*/ i0.ɵɵdefineDirective({ type: PoProgressBaseComponent, inputs: { info: ["p-info", "info"], infoIcon: ["p-info-icon", "infoIcon"], status: ["p-status", "status"], text: ["p-text", "text"], indeterminate: ["p-indeterminate", "indeterminate"], value: ["p-value", "value"] }, outputs: { cancel: "p-cancel", retry: "p-retry" } });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(PoProgressBaseComponent, [{
        type: Directive
    }], null, { info: [{
            type: Input,
            args: ['p-info']
        }], infoIcon: [{
            type: Input,
            args: ['p-info-icon']
        }], status: [{
            type: Input,
            args: ['p-status']
        }], text: [{
            type: Input,
            args: ['p-text']
        }], cancel: [{
            type: Output,
            args: ['p-cancel']
        }], retry: [{
            type: Output,
            args: ['p-retry']
        }], indeterminate: [{
            type: Input,
            args: ['p-indeterminate']
        }], value: [{
            type: Input,
            args: ['p-value']
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tcHJvZ3Jlc3MtYmFzZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy91aS9zcmMvbGliL2NvbXBvbmVudHMvcG8tcHJvZ3Jlc3MvcG8tcHJvZ3Jlc3MtYmFzZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUV2RSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsWUFBWSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFFbEUsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0saUNBQWlDLENBQUM7O0FBRW5FLE1BQU0sa0JBQWtCLEdBQUcsR0FBRyxDQUFDO0FBQy9CLE1BQU0sa0JBQWtCLEdBQUcsQ0FBQyxDQUFDO0FBRTdCOzs7Ozs7R0FNRztBQUVILE1BQU0sT0FBTyx1QkFBdUI7SUFEcEM7UUFzQkU7Ozs7Ozs7OztXQVNHO1FBQ2dCLFdBQU0sR0FBcUIsZ0JBQWdCLENBQUMsT0FBTyxDQUFDO1FBV3ZFOzs7Ozs7Ozs7OztXQVdHO1FBQ2lCLFdBQU0sR0FBc0IsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUVuRTs7Ozs7Ozs7O1dBU0c7UUFDZ0IsVUFBSyxHQUFzQixJQUFJLFlBQVksRUFBRSxDQUFDO1FBR3pELFdBQU0sR0FBWSxDQUFDLENBQUM7S0FnRDdCO0lBOUNDOzs7Ozs7Ozs7Ozs7T0FZRztJQUNILElBQThCLGFBQWEsQ0FBQyxhQUFzQjtRQUNoRSxJQUFJLENBQUMsY0FBYyxHQUFHLGdCQUFnQixDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ3hELENBQUM7SUFFRCxJQUFJLGFBQWE7UUFDZixPQUFPLElBQUksQ0FBQyxjQUFjLENBQUM7SUFDN0IsQ0FBQztJQUVEOzs7Ozs7Ozs7O09BVUc7SUFDSCxJQUFzQixLQUFLLENBQUMsS0FBYTtRQUN2QyxNQUFNLFlBQVksR0FBRyxZQUFZLENBQUMsS0FBSyxFQUFFLGtCQUFrQixDQUFDLENBQUM7UUFDN0QsTUFBTSxvQkFBb0IsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsWUFBWSxDQUFDLENBQUM7UUFFckUsSUFBSSxDQUFDLE1BQU0sR0FBRyxvQkFBb0IsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQztJQUN6RSxDQUFDO0lBRUQsSUFBSSxLQUFLO1FBQ1AsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3JCLENBQUM7SUFFTyxvQkFBb0IsQ0FBQyxLQUFhO1FBQ3hDLE9BQU8sS0FBSyxJQUFJLGtCQUFrQixJQUFJLEtBQUssSUFBSSxrQkFBa0IsQ0FBQztJQUNwRSxDQUFDOzs4RkFwSFUsdUJBQXVCOzBFQUF2Qix1QkFBdUI7dUZBQXZCLHVCQUF1QjtjQURuQyxTQUFTO2dCQVNTLElBQUk7a0JBQXBCLEtBQUs7bUJBQUMsUUFBUTtZQVdPLFFBQVE7a0JBQTdCLEtBQUs7bUJBQUMsYUFBYTtZQVlELE1BQU07a0JBQXhCLEtBQUs7bUJBQUMsVUFBVTtZQVNBLElBQUk7a0JBQXBCLEtBQUs7bUJBQUMsUUFBUTtZQWNLLE1BQU07a0JBQXpCLE1BQU07bUJBQUMsVUFBVTtZQVlDLEtBQUs7a0JBQXZCLE1BQU07bUJBQUMsU0FBUztZQWtCYSxhQUFhO2tCQUExQyxLQUFLO21CQUFDLGlCQUFpQjtZQW1CRixLQUFLO2tCQUExQixLQUFLO21CQUFDLFNBQVMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQsIERpcmVjdGl2ZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBjb252ZXJ0VG9Cb29sZWFuLCBjb252ZXJ0VG9JbnQgfSBmcm9tICcuLi8uLi91dGlscy91dGlsJztcblxuaW1wb3J0IHsgUG9Qcm9ncmVzc1N0YXR1cyB9IGZyb20gJy4vZW51bXMvcG8tcHJvZ3Jlc3Mtc3RhdHVzLmVudW0nO1xuXG5jb25zdCBwb1Byb2dyZXNzTWF4VmFsdWUgPSAxMDA7XG5jb25zdCBwb1Byb2dyZXNzTWluVmFsdWUgPSAwO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIENvbXBvbmVudGUgZGUgYmFycmEgZGUgcHJvZ3Jlc3NvIHF1ZSBwb3NzaWJpbGl0YSBleGliaXIgdmlzdWFsbWVudGUgbyBwcm9ncmVzc28vY2FycmVnYW1lbnRvIGRlIHVtYSB0YXJlZmEuXG4gKlxuICogRXN0ZSBjb21wb25lbnRlIHBvZGUgc2VyIHV0aWxpemFkbyBubyAqdXBsb2FkKiBkZSBhcnF1aXZvcywgdW1hIGF0dWFsaXphw6fDo28gbm8gc2lzdGVtYSBvdSBvIHByb2Nlc3NhbWVudG8gZGUgdW1hIGltYWdlbS5cbiAqL1xuQERpcmVjdGl2ZSgpXG5leHBvcnQgY2xhc3MgUG9Qcm9ncmVzc0Jhc2VDb21wb25lbnQge1xuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBJbmZvcm1hw6fDo28gYWRpY2lvbmFsIHF1ZSBhcGFyZWNlcsOhIGFiYWl4byBkYSBiYXJyYSBkZSBwcm9ncmVzc28gYW8gbGFkbyBkaXJlaXRvLlxuICAgKi9cbiAgQElucHV0KCdwLWluZm8nKSBpbmZvPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAb3B0aW9uYWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIMONY29uZSBxdWUgYXBhcmVjZXLDoSBhbyBsYWRvIGRvIHRleHRvIGRhIHByb3ByaWVkYWRlIGBwLWluZm9gLlxuICAgKlxuICAgKiBFeGVtcGxvOiBgcG8taWNvbi1va2AuXG4gICAqL1xuICBASW5wdXQoJ3AtaW5mby1pY29uJykgaW5mb0ljb24/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogU3RhdHVzIGRhIGJhcnJhIGRlIHByb2dyZXNzbyBxdWUgaW5kaWNhcsOhIHZpc3VhbG1lbnRlIGFvIHVzdcOhcmlvXG4gICAqIG8gYW5kYW1lbnRvLCBwb3IgZXhlbXBsbywgc2UgYSBtZXNtYSBmb2kgY29uY2x1w61kYSBjb20gc3VjZXNzby5cbiAgICpcbiAgICogQGRlZmF1bHQgYFBvUHJvZ3Jlc3NTdGF0dXMuRGVmYXVsdGBcbiAgICovXG4gIEBJbnB1dCgncC1zdGF0dXMnKSBzdGF0dXM6IFBvUHJvZ3Jlc3NTdGF0dXMgPSBQb1Byb2dyZXNzU3RhdHVzLkRlZmF1bHQ7XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogVGV4dG8gcHJpbmNpcGFsIHF1ZSBhcGFyZWNlcsOhIGFiYWl4byBkYSBiYXJyYSBkZSBwcm9ncmVzc28gbm8gbGFkbyBlc3F1ZXJkby5cbiAgICovXG4gIEBJbnB1dCgncC10ZXh0JykgdGV4dD86IHN0cmluZztcblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBFdmVudG8gcXVlIHNlcsOhIGRpc3BhcmFkbyBhbyBjbGljYXIgbm8gw61jb25lIGRlIGNhbmNlbGFtZW50byAoXCJ4XCIpIG5hIHBhcnRlIGluZmVyaW9yIGRhIGJhcnJhIGRlIHByb2dyZXNzby5cbiAgICpcbiAgICogQW8gc2VyIGRpc3BhcmFkbywgYSBmdW7Dp8OjbyByZWNlYmVyw6EgY29tbyBwYXLDom1ldHJvIG8gc3RhdHVzIGF0dWFsIGRhIGJhcnJhIGRlIHByb2dyZXNzby5cbiAgICpcbiAgICogPiBTZSBuZW5odW1hIGZ1bsOnw6NvIGZvciBwYXNzYWRhIHBhcmEgbyBldmVudG8gb3UgYSBiYXJyYSBkZSBwcm9ncmVzc28gZXN0aXZlciBjb20gbyBzdGF0dXMgYFBvUHJvZ3Jlc3NTdGF0dXMuU3VjY2Vzc2AsXG4gICAqIG8gw61jb25lIGRlIGNhbmNlbGFtZW50byBuw6NvIHNlcsOhIGV4aWJpZG8uXG4gICAqL1xuICBAT3V0cHV0KCdwLWNhbmNlbCcpIGNhbmNlbDogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogRXZlbnRvIHF1ZSBzZXLDoSBkaXNwYXJhZG8gYW8gY2xpY2FyIG5vIMOtY29uZSBkZSB0ZW50YXIgbm92YW1lbnRlIG5hIHBhcnRlIGluZmVyaW9yIGRhIGJhcnJhIGRlIHByb2dyZXNzby5cbiAgICpcbiAgICogPiBvIMOtY29uZSBzZXLDoSBleGliaWRvIGFwZW5hcyBzZSBpbmZvcm1hciB1bWEgZnVuw6fDo28gbmVzdGUgZXZlbnRvIGUgbyBzdGF0dXMgZGEgYmFycmEgZGUgcHJvZ3Jlc3NvIGZvclxuICAgKiBgUG9Qcm9ncmVzc1N0YXR1cy5FcnJvcmAuXG4gICAqL1xuICBAT3V0cHV0KCdwLXJldHJ5JykgcmV0cnk6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIHByaXZhdGUgX2luZGV0ZXJtaW5hdGU/OiBib29sZWFuO1xuICBwcml2YXRlIF92YWx1ZT86IG51bWJlciA9IDA7XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogSGFiaWxpdGEgbyBtb2RvIGluZGV0ZXJtaW5hZG8gbmEgYmFycmEgZGUgcHJvZ3Jlc3NvLCBxdWUgbW9zdHJhIHVtYSBhbmltYcOnw6NvIGZpeGEgc2VtIHVtIHZhbG9yIGVzdGFiZWxlY2lkby5cbiAgICpcbiAgICogRXN0YSBvcMOnw6NvIHBvZGUgc2VyIHV0aWxpemFkYSBxdWFuZG8gbsOjbyBzb3ViZXIgcXVhbnRvIHRlbXBvIGxldmFyw6EgcGFyYSBxdWUgdW0gcHJvY2Vzc28gc2VqYSBjb25jbHXDrWRvLlxuICAgKlxuICAgKiA+IENhc28gZXN0YSBwcm9wcmllZGFkZSBlIGEgYHAtdmFsdWVgIHNlamEgaGFiaWxpdGFkYSwgYSBwcm9wcmllZGFkZSBgcC12YWx1ZWAgc2Vyw6EgaWdub3JhZGEuXG4gICAqXG4gICAqIEBkZWZhdWx0IGBmYWxzZWBcbiAgICovXG4gIEBJbnB1dCgncC1pbmRldGVybWluYXRlJykgc2V0IGluZGV0ZXJtaW5hdGUoaW5kZXRlcm1pbmF0ZTogYm9vbGVhbikge1xuICAgIHRoaXMuX2luZGV0ZXJtaW5hdGUgPSBjb252ZXJ0VG9Cb29sZWFuKGluZGV0ZXJtaW5hdGUpO1xuICB9XG5cbiAgZ2V0IGluZGV0ZXJtaW5hdGUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2luZGV0ZXJtaW5hdGU7XG4gIH1cblxuICAvKipcbiAgICogQG9wdGlvbmFsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBWYWxvciBxdWUgcmVwcmVzZW50YXLDoSBvIHByb2dyZXNzby5cbiAgICpcbiAgICogPiBPcyB2YWxvcmVzIGFjZWl0b3Mgc8OjbyBuw7ptZXJvcyBpbnRlaXJvcyBkZSBgMGAgw6AgYDEwMGAuXG4gICAqXG4gICAqIEBkZWZhdWx0IGAwYFxuICAgKi9cbiAgQElucHV0KCdwLXZhbHVlJykgc2V0IHZhbHVlKHZhbHVlOiBudW1iZXIpIHtcbiAgICBjb25zdCBpbnRlZ2VyVmFsdWUgPSBjb252ZXJ0VG9JbnQodmFsdWUsIHBvUHJvZ3Jlc3NNaW5WYWx1ZSk7XG4gICAgY29uc3QgaXNQcm9ncmVzc1JhbmdlVmFsdWUgPSB0aGlzLmlzUHJvZ3Jlc3NSYW5nZVZhbHVlKGludGVnZXJWYWx1ZSk7XG5cbiAgICB0aGlzLl92YWx1ZSA9IGlzUHJvZ3Jlc3NSYW5nZVZhbHVlID8gaW50ZWdlclZhbHVlIDogcG9Qcm9ncmVzc01pblZhbHVlO1xuICB9XG5cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgfVxuXG4gIHByaXZhdGUgaXNQcm9ncmVzc1JhbmdlVmFsdWUodmFsdWU6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiB2YWx1ZSA+PSBwb1Byb2dyZXNzTWluVmFsdWUgJiYgdmFsdWUgPD0gcG9Qcm9ncmVzc01heFZhbHVlO1xuICB9XG59XG4iXX0=