import { Component, ContentChildren } from '@angular/core';
import { PoAccordionBaseComponent } from './po-accordion-base.component';
import { PoAccordionItemComponent } from './po-accordion-item/po-accordion-item.component';
import { PoAccordionService } from './services/po-accordion.service';
import * as i0 from "@angular/core";
import * as i1 from "./services/po-accordion.service";
import * as i2 from "@angular/common";
import * as i3 from "./po-accordion-item-body/po-accordion-item-body.component";
import * as i4 from "./po-accordion-item-header/po-accordion-item-header.component";
function PoAccordionComponent_section_1_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainer(0);
} }
function PoAccordionComponent_section_1_Template(rf, ctx) { if (rf & 1) {
    const _r4 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "section", 2)(1, "po-accordion-item-header", 3);
    i0.ɵɵlistener("p-toggle", function PoAccordionComponent_section_1_Template_po_accordion_item_header_p_toggle_1_listener($event) { const restoredCtx = i0.ɵɵrestoreView(_r4); const poAccordionItem_r1 = restoredCtx.$implicit; const ctx_r3 = i0.ɵɵnextContext(); return i0.ɵɵresetView(ctx_r3.headerToggle($event, poAccordionItem_r1)); });
    i0.ɵɵelementEnd();
    i0.ɵɵelementStart(2, "po-accordion-item-body", 4);
    i0.ɵɵtemplate(3, PoAccordionComponent_section_1_ng_container_3_Template, 1, 0, "ng-container", 5);
    i0.ɵɵelementEnd()();
} if (rf & 2) {
    const poAccordionItem_r1 = ctx.$implicit;
    i0.ɵɵclassProp("po-accordion-item-active", poAccordionItem_r1.expanded);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("p-expanded", poAccordionItem_r1.expanded)("p-label", poAccordionItem_r1.label);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("p-expanded", poAccordionItem_r1.expanded);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngTemplateOutlet", poAccordionItem_r1.templateRef);
} }
/**
 * @docsExtends PoAccordionBaseComponent
 *
 * @example
 *
 * <example name="po-accordion-basic" title="PO Accordion Basic" >
 *  <file name="sample-po-accordion-basic/sample-po-accordion-basic.component.html"> </file>
 *  <file name="sample-po-accordion-basic/sample-po-accordion-basic.component.ts"> </file>
 *  <file name="sample-po-accordion-basic/sample-po-accordion-basic.component.e2e-spec.ts"> </file>
 *  <file name="sample-po-accordion-basic/sample-po-accordion-basic.component.po.ts"> </file>
 * </example>
 *
 * <example name="po-accordion-labs" title="PO Accordion Labs" >
 *  <file name="sample-po-accordion-labs/sample-po-accordion-labs.component.html"> </file>
 *  <file name="sample-po-accordion-labs/sample-po-accordion-labs.component.ts"> </file>
 * </example>
 *
 * <example name="po-accordion-faq" title="PO Accordion - FAQs" >
 *  <file name="sample-po-accordion-faq/sample-po-accordion-faq.component.html"> </file>
 *  <file name="sample-po-accordion-faq/sample-po-accordion-faq.component.ts"> </file>
 * </example>
 */
export class PoAccordionComponent extends PoAccordionBaseComponent {
    constructor(accordionService) {
        super();
        this.accordionService = accordionService;
        this.receiveFromChildAccordionSubscription();
    }
    ngOnDestroy() {
        this.accordionServiceSubscription.unsubscribe();
    }
    headerToggle(event, poAccordionItem) {
        poAccordionItem.expanded = event;
        this.toggle(poAccordionItem);
    }
    receiveFromChildAccordionSubscription() {
        this.accordionServiceSubscription = this.accordionService
            .receiveFromChildAccordionClicked()
            .subscribe(poAccordionItem => this.toggle(poAccordionItem));
    }
    toggle(poAccordionItem) {
        const isCurrentAccordionCollapsed = !poAccordionItem.expanded;
        if (isCurrentAccordionCollapsed) {
            this.expandedActiveAccordionItem = null;
            return;
        }
        if (this.expandedActiveAccordionItem) {
            this.expandedActiveAccordionItem.collapse();
        }
        this.expandedActiveAccordionItem = poAccordionItem;
    }
}
PoAccordionComponent.ɵfac = function PoAccordionComponent_Factory(t) { return new (t || PoAccordionComponent)(i0.ɵɵdirectiveInject(i1.PoAccordionService)); };
PoAccordionComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PoAccordionComponent, selectors: [["po-accordion"]], contentQueries: function PoAccordionComponent_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {
        i0.ɵɵcontentQuery(dirIndex, PoAccordionItemComponent, 4);
    } if (rf & 2) {
        let _t;
        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.poAccordionItems = _t);
    } }, features: [i0.ɵɵProvidersFeature([PoAccordionService]), i0.ɵɵInheritDefinitionFeature], decls: 2, vars: 1, consts: [[1, "po-accordion", "po-container", "po-container-no-padding"], ["class", "po-accordion-item", 3, "po-accordion-item-active", 4, "ngFor", "ngForOf"], [1, "po-accordion-item"], [3, "p-expanded", "p-label", "p-toggle"], [3, "p-expanded"], [4, "ngTemplateOutlet"]], template: function PoAccordionComponent_Template(rf, ctx) { if (rf & 1) {
        i0.ɵɵelementStart(0, "div", 0);
        i0.ɵɵtemplate(1, PoAccordionComponent_section_1_Template, 4, 6, "section", 1);
        i0.ɵɵelementEnd();
    } if (rf & 2) {
        i0.ɵɵadvance(1);
        i0.ɵɵproperty("ngForOf", ctx.poAccordionItems);
    } }, dependencies: [i2.NgForOf, i2.NgTemplateOutlet, i3.PoAccordionItemBodyComponent, i4.PoAccordionItemHeaderComponent], encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(PoAccordionComponent, [{
        type: Component,
        args: [{ selector: 'po-accordion', providers: [PoAccordionService], template: "<div class=\"po-accordion po-container po-container-no-padding\">\n  <section\n    *ngFor=\"let poAccordionItem of poAccordionItems\"\n    class=\"po-accordion-item\"\n    [class.po-accordion-item-active]=\"poAccordionItem.expanded\"\n  >\n    <po-accordion-item-header\n      [p-expanded]=\"poAccordionItem.expanded\"\n      [p-label]=\"poAccordionItem.label\"\n      (p-toggle)=\"headerToggle($event, poAccordionItem)\"\n    >\n    </po-accordion-item-header>\n\n    <po-accordion-item-body [p-expanded]=\"poAccordionItem.expanded\">\n      <ng-container *ngTemplateOutlet=\"poAccordionItem.templateRef\"></ng-container>\n    </po-accordion-item-body>\n  </section>\n</div>\n" }]
    }], function () { return [{ type: i1.PoAccordionService }]; }, { poAccordionItems: [{
            type: ContentChildren,
            args: [PoAccordionItemComponent]
        }] }); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tYWNjb3JkaW9uLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3VpL3NyYy9saWIvY29tcG9uZW50cy9wby1hY2NvcmRpb24vcG8tYWNjb3JkaW9uLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3VpL3NyYy9saWIvY29tcG9uZW50cy9wby1hY2NvcmRpb24vcG8tYWNjb3JkaW9uLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsZUFBZSxFQUF3QixNQUFNLGVBQWUsQ0FBQztBQUlqRixPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUN6RSxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSxpREFBaUQsQ0FBQztBQUMzRixPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQzs7Ozs7OztJQ1EvRCx3QkFBNkU7Ozs7SUFiakYsa0NBSUMsa0NBQUE7SUFJRyx5UUFBWSxlQUFBLCtDQUFxQyxDQUFBLElBQUM7SUFFcEQsaUJBQTJCO0lBRTNCLGlEQUFnRTtJQUM5RCxpR0FBNkU7SUFDL0UsaUJBQXlCLEVBQUE7OztJQVh6Qix1RUFBMkQ7SUFHekQsZUFBdUM7SUFBdkMsd0RBQXVDLHFDQUFBO0lBTWpCLGVBQXVDO0lBQXZDLHdEQUF1QztJQUM5QyxlQUE2QztJQUE3QyxpRUFBNkM7O0FETmxFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FxQkc7QUFNSCxNQUFNLE9BQU8sb0JBQXFCLFNBQVEsd0JBQXdCO0lBTWhFLFlBQW9CLGdCQUFvQztRQUN0RCxLQUFLLEVBQUUsQ0FBQztRQURVLHFCQUFnQixHQUFoQixnQkFBZ0IsQ0FBb0I7UUFFdEQsSUFBSSxDQUFDLHFDQUFxQyxFQUFFLENBQUM7SUFDL0MsQ0FBQztJQUVELFdBQVc7UUFDVCxJQUFJLENBQUMsNEJBQTRCLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDbEQsQ0FBQztJQUVELFlBQVksQ0FBQyxLQUFjLEVBQUUsZUFBeUM7UUFDcEUsZUFBZSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7UUFFakMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUMvQixDQUFDO0lBRU8scUNBQXFDO1FBQzNDLElBQUksQ0FBQyw0QkFBNEIsR0FBRyxJQUFJLENBQUMsZ0JBQWdCO2FBQ3RELGdDQUFnQyxFQUFFO2FBQ2xDLFNBQVMsQ0FBQyxlQUFlLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQztJQUNoRSxDQUFDO0lBRU8sTUFBTSxDQUFDLGVBQXlDO1FBQ3RELE1BQU0sMkJBQTJCLEdBQUcsQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDO1FBRTlELElBQUksMkJBQTJCLEVBQUU7WUFDL0IsSUFBSSxDQUFDLDJCQUEyQixHQUFHLElBQUksQ0FBQztZQUN4QyxPQUFPO1NBQ1I7UUFFRCxJQUFJLElBQUksQ0FBQywyQkFBMkIsRUFBRTtZQUNwQyxJQUFJLENBQUMsMkJBQTJCLENBQUMsUUFBUSxFQUFFLENBQUM7U0FDN0M7UUFFRCxJQUFJLENBQUMsMkJBQTJCLEdBQUcsZUFBZSxDQUFDO0lBQ3JELENBQUM7O3dGQXhDVSxvQkFBb0I7dUVBQXBCLG9CQUFvQjtvQ0FDZCx3QkFBd0I7Ozs7MENBSDlCLENBQUMsa0JBQWtCLENBQUM7UUNqQ2pDLDhCQUErRDtRQUM3RCw2RUFlVTtRQUNaLGlCQUFNOztRQWYwQixlQUFtQjtRQUFuQiw4Q0FBbUI7O3VGRGlDdEMsb0JBQW9CO2NBTGhDLFNBQVM7MkJBQ0UsY0FBYyxhQUViLENBQUMsa0JBQWtCLENBQUM7cUVBR1ksZ0JBQWdCO2tCQUExRCxlQUFlO21CQUFDLHdCQUF3QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgQ29udGVudENoaWxkcmVuLCBRdWVyeUxpc3QsIE9uRGVzdHJveSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcblxuaW1wb3J0IHsgUG9BY2NvcmRpb25CYXNlQ29tcG9uZW50IH0gZnJvbSAnLi9wby1hY2NvcmRpb24tYmFzZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgUG9BY2NvcmRpb25JdGVtQ29tcG9uZW50IH0gZnJvbSAnLi9wby1hY2NvcmRpb24taXRlbS9wby1hY2NvcmRpb24taXRlbS5jb21wb25lbnQnO1xuaW1wb3J0IHsgUG9BY2NvcmRpb25TZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9wby1hY2NvcmRpb24uc2VydmljZSc7XG5cbi8qKlxuICogQGRvY3NFeHRlbmRzIFBvQWNjb3JkaW9uQmFzZUNvbXBvbmVudFxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogPGV4YW1wbGUgbmFtZT1cInBvLWFjY29yZGlvbi1iYXNpY1wiIHRpdGxlPVwiUE8gQWNjb3JkaW9uIEJhc2ljXCIgPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tYWNjb3JkaW9uLWJhc2ljL3NhbXBsZS1wby1hY2NvcmRpb24tYmFzaWMuY29tcG9uZW50Lmh0bWxcIj4gPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tYWNjb3JkaW9uLWJhc2ljL3NhbXBsZS1wby1hY2NvcmRpb24tYmFzaWMuY29tcG9uZW50LnRzXCI+IDwvZmlsZT5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXBvLWFjY29yZGlvbi1iYXNpYy9zYW1wbGUtcG8tYWNjb3JkaW9uLWJhc2ljLmNvbXBvbmVudC5lMmUtc3BlYy50c1wiPiA8L2ZpbGU+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1hY2NvcmRpb24tYmFzaWMvc2FtcGxlLXBvLWFjY29yZGlvbi1iYXNpYy5jb21wb25lbnQucG8udHNcIj4gPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJwby1hY2NvcmRpb24tbGFic1wiIHRpdGxlPVwiUE8gQWNjb3JkaW9uIExhYnNcIiA+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1hY2NvcmRpb24tbGFicy9zYW1wbGUtcG8tYWNjb3JkaW9uLWxhYnMuY29tcG9uZW50Lmh0bWxcIj4gPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJzYW1wbGUtcG8tYWNjb3JkaW9uLWxhYnMvc2FtcGxlLXBvLWFjY29yZGlvbi1sYWJzLmNvbXBvbmVudC50c1wiPiA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICogPGV4YW1wbGUgbmFtZT1cInBvLWFjY29yZGlvbi1mYXFcIiB0aXRsZT1cIlBPIEFjY29yZGlvbiAtIEZBUXNcIiA+XG4gKiAgPGZpbGUgbmFtZT1cInNhbXBsZS1wby1hY2NvcmRpb24tZmFxL3NhbXBsZS1wby1hY2NvcmRpb24tZmFxLmNvbXBvbmVudC5odG1sXCI+IDwvZmlsZT5cbiAqICA8ZmlsZSBuYW1lPVwic2FtcGxlLXBvLWFjY29yZGlvbi1mYXEvc2FtcGxlLXBvLWFjY29yZGlvbi1mYXEuY29tcG9uZW50LnRzXCI+IDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAncG8tYWNjb3JkaW9uJyxcbiAgdGVtcGxhdGVVcmw6ICdwby1hY2NvcmRpb24uY29tcG9uZW50Lmh0bWwnLFxuICBwcm92aWRlcnM6IFtQb0FjY29yZGlvblNlcnZpY2VdXG59KVxuZXhwb3J0IGNsYXNzIFBvQWNjb3JkaW9uQ29tcG9uZW50IGV4dGVuZHMgUG9BY2NvcmRpb25CYXNlQ29tcG9uZW50IGltcGxlbWVudHMgT25EZXN0cm95IHtcbiAgQENvbnRlbnRDaGlsZHJlbihQb0FjY29yZGlvbkl0ZW1Db21wb25lbnQpIHBvQWNjb3JkaW9uSXRlbXM6IFF1ZXJ5TGlzdDxQb0FjY29yZGlvbkl0ZW1Db21wb25lbnQ+O1xuXG4gIHByaXZhdGUgYWNjb3JkaW9uU2VydmljZVN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uO1xuICBwcml2YXRlIGV4cGFuZGVkQWN0aXZlQWNjb3JkaW9uSXRlbTogUG9BY2NvcmRpb25JdGVtQ29tcG9uZW50O1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgYWNjb3JkaW9uU2VydmljZTogUG9BY2NvcmRpb25TZXJ2aWNlKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnJlY2VpdmVGcm9tQ2hpbGRBY2NvcmRpb25TdWJzY3JpcHRpb24oKTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMuYWNjb3JkaW9uU2VydmljZVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICB9XG5cbiAgaGVhZGVyVG9nZ2xlKGV2ZW50OiBib29sZWFuLCBwb0FjY29yZGlvbkl0ZW06IFBvQWNjb3JkaW9uSXRlbUNvbXBvbmVudCkge1xuICAgIHBvQWNjb3JkaW9uSXRlbS5leHBhbmRlZCA9IGV2ZW50O1xuXG4gICAgdGhpcy50b2dnbGUocG9BY2NvcmRpb25JdGVtKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVjZWl2ZUZyb21DaGlsZEFjY29yZGlvblN1YnNjcmlwdGlvbigpIHtcbiAgICB0aGlzLmFjY29yZGlvblNlcnZpY2VTdWJzY3JpcHRpb24gPSB0aGlzLmFjY29yZGlvblNlcnZpY2VcbiAgICAgIC5yZWNlaXZlRnJvbUNoaWxkQWNjb3JkaW9uQ2xpY2tlZCgpXG4gICAgICAuc3Vic2NyaWJlKHBvQWNjb3JkaW9uSXRlbSA9PiB0aGlzLnRvZ2dsZShwb0FjY29yZGlvbkl0ZW0pKTtcbiAgfVxuXG4gIHByaXZhdGUgdG9nZ2xlKHBvQWNjb3JkaW9uSXRlbTogUG9BY2NvcmRpb25JdGVtQ29tcG9uZW50KSB7XG4gICAgY29uc3QgaXNDdXJyZW50QWNjb3JkaW9uQ29sbGFwc2VkID0gIXBvQWNjb3JkaW9uSXRlbS5leHBhbmRlZDtcblxuICAgIGlmIChpc0N1cnJlbnRBY2NvcmRpb25Db2xsYXBzZWQpIHtcbiAgICAgIHRoaXMuZXhwYW5kZWRBY3RpdmVBY2NvcmRpb25JdGVtID0gbnVsbDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5leHBhbmRlZEFjdGl2ZUFjY29yZGlvbkl0ZW0pIHtcbiAgICAgIHRoaXMuZXhwYW5kZWRBY3RpdmVBY2NvcmRpb25JdGVtLmNvbGxhcHNlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5leHBhbmRlZEFjdGl2ZUFjY29yZGlvbkl0ZW0gPSBwb0FjY29yZGlvbkl0ZW07XG4gIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJwby1hY2NvcmRpb24gcG8tY29udGFpbmVyIHBvLWNvbnRhaW5lci1uby1wYWRkaW5nXCI+XG4gIDxzZWN0aW9uXG4gICAgKm5nRm9yPVwibGV0IHBvQWNjb3JkaW9uSXRlbSBvZiBwb0FjY29yZGlvbkl0ZW1zXCJcbiAgICBjbGFzcz1cInBvLWFjY29yZGlvbi1pdGVtXCJcbiAgICBbY2xhc3MucG8tYWNjb3JkaW9uLWl0ZW0tYWN0aXZlXT1cInBvQWNjb3JkaW9uSXRlbS5leHBhbmRlZFwiXG4gID5cbiAgICA8cG8tYWNjb3JkaW9uLWl0ZW0taGVhZGVyXG4gICAgICBbcC1leHBhbmRlZF09XCJwb0FjY29yZGlvbkl0ZW0uZXhwYW5kZWRcIlxuICAgICAgW3AtbGFiZWxdPVwicG9BY2NvcmRpb25JdGVtLmxhYmVsXCJcbiAgICAgIChwLXRvZ2dsZSk9XCJoZWFkZXJUb2dnbGUoJGV2ZW50LCBwb0FjY29yZGlvbkl0ZW0pXCJcbiAgICA+XG4gICAgPC9wby1hY2NvcmRpb24taXRlbS1oZWFkZXI+XG5cbiAgICA8cG8tYWNjb3JkaW9uLWl0ZW0tYm9keSBbcC1leHBhbmRlZF09XCJwb0FjY29yZGlvbkl0ZW0uZXhwYW5kZWRcIj5cbiAgICAgIDxuZy1jb250YWluZXIgKm5nVGVtcGxhdGVPdXRsZXQ9XCJwb0FjY29yZGlvbkl0ZW0udGVtcGxhdGVSZWZcIj48L25nLWNvbnRhaW5lcj5cbiAgICA8L3BvLWFjY29yZGlvbi1pdGVtLWJvZHk+XG4gIDwvc2VjdGlvbj5cbjwvZGl2PlxuIl19